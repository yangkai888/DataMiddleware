# Redis配置文件 - 开发环境专用
# 放置在项目外部，避免污染代码库

# 网络配置
bind 127.0.0.1
port 6379
timeout 0
tcp-keepalive 300

# 通用配置
daemonize no
supervised no
loglevel notice
logfile ""

# 数据持久化配置
# 开发环境建议关闭持久化，避免生成数据文件
save ""  # 禁用RDB快照
appendonly no  # 禁用AOF
appendfilename "appendonly.aof"
appendfsync everysec

# 内存管理
maxmemory 128mb
maxmemory-policy allkeys-lru

# 数据库配置
databases 16

# 安全性
# 生产环境请设置密码
# requirepass yourpassword

# 性能优化
tcp-backlog 511
databases 16

# 日志配置
loglevel notice

# 开发环境优化
# 禁用危险命令
rename-command FLUSHDB ""
rename-command FLUSHALL ""
rename-command SHUTDOWN SHUTDOWN_REDIS

# 内存优化
maxmemory-policy volatile-lru
lazyfree-lazy-eviction yes
lazyfree-lazy-expire yes
lazyfree-lazy-server-del yes
