# 开发环境配置文件
# 继承主配置文件，并覆盖开发环境特定的配置

# 服务器配置
server:
  env: dev
  http:
    host: "0.0.0.0"
    port: 8080
    read_timeout: 60s  # 开发环境放宽超时时间
    write_timeout: 60s
    max_header_bytes: 1048576
  tcp:
    host: "0.0.0.0"
    port: 9090
    max_connections: 1000  # 开发环境减少连接数
    read_timeout: 60s
    write_timeout: 60s

# 数据库配置
database:
  driver: mysql
  host: "localhost"
  port: 3306
  username: "root"
  password: "MySQL@123456"
  database: "datamiddleware_dev"
  max_open_conns: 50
  max_idle_conns: 10
  conn_max_lifetime: 1h
  conn_max_idle_time: 30m

# Redis配置 - 开发环境优化
redis:
  host: "localhost"
  port: 6379
  password: ""  # 开发环境不设置密码
  db: 0
  pool_size: 10
  min_idle_conns: 2  # 减少空闲连接
  conn_max_lifetime: 30m
  read_timeout: 3s
  write_timeout: 3s
  # 开发环境禁用持久化
  save: ""  # 不进行RDB快照
  appendonly: false  # 不启用AOF

# 日志配置
logging:
  level: debug  # 开发环境使用debug级别
  format: console  # 开发环境使用控制台格式
  output: console
  file:
    path: "./logs/datamiddleware_dev.log"
    max_size: 100
    max_backups: 10
    max_age: 30
    compress: false

# JWT配置
auth:
  jwt:
    secret: "dev-jwt-secret-key-change-in-production"
    expire: 24h

# 缓存配置
cache:
  l1:
    enabled: true
    size: 1000
    ttl: 10m
  l2:
    enabled: true
    ttl: 1h

# 异步处理配置
async:
  queue_size: 1000
  worker_count: 4

# 监控配置
monitor:
  enabled: true
  interval: 30s
  health_check:
    enabled: true
    path: "/health"
    interval: 30s
